{"abi":[{"type":"function","name":"autoReducePositions","inputs":[{"name":"positionKeys","type":"bytes32[]","internalType":"bytes32[]"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"cancelUpdateLeverageRequest","inputs":[{"name":"orderId","type":"uint256","internalType":"uint256"},{"name":"reasonCode","type":"bytes32","internalType":"bytes32"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"cancelUpdatePositionMarginRequest","inputs":[{"name":"orderId","type":"uint256","internalType":"uint256"},{"name":"reasonCode","type":"bytes32","internalType":"bytes32"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"createUpdateLeverageRequest","inputs":[{"name":"params","type":"tuple","internalType":"struct IPosition.UpdateLeverageParams","components":[{"name":"symbol","type":"bytes32","internalType":"bytes32"},{"name":"isLong","type":"bool","internalType":"bool"},{"name":"isNativeToken","type":"bool","internalType":"bool"},{"name":"isCrossMargin","type":"bool","internalType":"bool"},{"name":"leverage","type":"uint256","internalType":"uint256"},{"name":"marginToken","type":"address","internalType":"address"},{"name":"addMarginAmount","type":"uint256","internalType":"uint256"},{"name":"executionFee","type":"uint256","internalType":"uint256"}]}],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"payable"},{"type":"function","name":"createUpdatePositionMarginRequest","inputs":[{"name":"params","type":"tuple","internalType":"struct IPosition.UpdatePositionMarginParams","components":[{"name":"positionKey","type":"bytes32","internalType":"bytes32"},{"name":"isAdd","type":"bool","internalType":"bool"},{"name":"isNativeToken","type":"bool","internalType":"bool"},{"name":"marginToken","type":"address","internalType":"address"},{"name":"updateMarginAmount","type":"uint256","internalType":"uint256"},{"name":"executionFee","type":"uint256","internalType":"uint256"}]}],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"payable"},{"type":"function","name":"executeUpdateLeverageRequest","inputs":[{"name":"requestId","type":"uint256","internalType":"uint256"},{"name":"oracles","type":"tuple[]","internalType":"struct OracleProcess.OracleParam[]","components":[{"name":"token","type":"address","internalType":"address"},{"name":"targetToken","type":"address","internalType":"address"},{"name":"minPrice","type":"int256","internalType":"int256"},{"name":"maxPrice","type":"int256","internalType":"int256"}]}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"executeUpdatePositionMarginRequest","inputs":[{"name":"requestId","type":"uint256","internalType":"uint256"},{"name":"oracles","type":"tuple[]","internalType":"struct OracleProcess.OracleParam[]","components":[{"name":"token","type":"address","internalType":"address"},{"name":"targetToken","type":"address","internalType":"address"},{"name":"minPrice","type":"int256","internalType":"int256"},{"name":"maxPrice","type":"int256","internalType":"int256"}]}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"getAllPositions","inputs":[{"name":"account","type":"address","internalType":"address"}],"outputs":[{"name":"","type":"tuple[]","internalType":"struct IPosition.PositionInfo[]","components":[{"name":"position","type":"tuple","internalType":"struct Position.Props","components":[{"name":"key","type":"bytes32","internalType":"bytes32"},{"name":"symbol","type":"bytes32","internalType":"bytes32"},{"name":"isLong","type":"bool","internalType":"bool"},{"name":"isCrossMargin","type":"bool","internalType":"bool"},{"name":"account","type":"address","internalType":"address"},{"name":"marginToken","type":"address","internalType":"address"},{"name":"indexToken","type":"address","internalType":"address"},{"name":"qty","type":"uint256","internalType":"uint256"},{"name":"entryPrice","type":"uint256","internalType":"uint256"},{"name":"leverage","type":"uint256","internalType":"uint256"},{"name":"initialMargin","type":"uint256","internalType":"uint256"},{"name":"initialMarginInUsd","type":"uint256","internalType":"uint256"},{"name":"initialMarginInUsdFromBalance","type":"uint256","internalType":"uint256"},{"name":"holdPoolAmount","type":"uint256","internalType":"uint256"},{"name":"positionFee","type":"tuple","internalType":"struct Position.PositionFee","components":[{"name":"closeFeeInUsd","type":"uint256","internalType":"uint256"},{"name":"openBorrowingFeePerToken","type":"uint256","internalType":"uint256"},{"name":"realizedBorrowingFee","type":"uint256","internalType":"uint256"},{"name":"realizedBorrowingFeeInUsd","type":"uint256","internalType":"uint256"},{"name":"openFundingFeePerQty","type":"int256","internalType":"int256"},{"name":"realizedFundingFee","type":"int256","internalType":"int256"},{"name":"realizedFundingFeeInUsd","type":"int256","internalType":"int256"}]},{"name":"realizedPnl","type":"int256","internalType":"int256"},{"name":"lastUpdateTime","type":"uint256","internalType":"uint256"}]},{"name":"liquidationPrice","type":"uint256","internalType":"uint256"},{"name":"currentTimestamp","type":"uint256","internalType":"uint256"}]}],"stateMutability":"view"},{"type":"function","name":"getSinglePosition","inputs":[{"name":"account","type":"address","internalType":"address"},{"name":"symbol","type":"bytes32","internalType":"bytes32"},{"name":"marginToken","type":"address","internalType":"address"},{"name":"isCrossMargin","type":"bool","internalType":"bool"}],"outputs":[{"name":"","type":"tuple","internalType":"struct Position.Props","components":[{"name":"key","type":"bytes32","internalType":"bytes32"},{"name":"symbol","type":"bytes32","internalType":"bytes32"},{"name":"isLong","type":"bool","internalType":"bool"},{"name":"isCrossMargin","type":"bool","internalType":"bool"},{"name":"account","type":"address","internalType":"address"},{"name":"marginToken","type":"address","internalType":"address"},{"name":"indexToken","type":"address","internalType":"address"},{"name":"qty","type":"uint256","internalType":"uint256"},{"name":"entryPrice","type":"uint256","internalType":"uint256"},{"name":"leverage","type":"uint256","internalType":"uint256"},{"name":"initialMargin","type":"uint256","internalType":"uint256"},{"name":"initialMarginInUsd","type":"uint256","internalType":"uint256"},{"name":"initialMarginInUsdFromBalance","type":"uint256","internalType":"uint256"},{"name":"holdPoolAmount","type":"uint256","internalType":"uint256"},{"name":"positionFee","type":"tuple","internalType":"struct Position.PositionFee","components":[{"name":"closeFeeInUsd","type":"uint256","internalType":"uint256"},{"name":"openBorrowingFeePerToken","type":"uint256","internalType":"uint256"},{"name":"realizedBorrowingFee","type":"uint256","internalType":"uint256"},{"name":"realizedBorrowingFeeInUsd","type":"uint256","internalType":"uint256"},{"name":"openFundingFeePerQty","type":"int256","internalType":"int256"},{"name":"realizedFundingFee","type":"int256","internalType":"int256"},{"name":"realizedFundingFeeInUsd","type":"int256","internalType":"int256"}]},{"name":"realizedPnl","type":"int256","internalType":"int256"},{"name":"lastUpdateTime","type":"uint256","internalType":"uint256"}]}],"stateMutability":"pure"}],"bytecode":{"object":"0x","sourceMap":"","linkReferences":{}},"deployedBytecode":{"object":"0x","sourceMap":"","linkReferences":{}},"methodIdentifiers":{"autoReducePositions(bytes32[])":"09fb7aac","cancelUpdateLeverageRequest(uint256,bytes32)":"59086dc9","cancelUpdatePositionMarginRequest(uint256,bytes32)":"e606789b","createUpdateLeverageRequest((bytes32,bool,bool,bool,uint256,address,uint256,uint256))":"74315647","createUpdatePositionMarginRequest((bytes32,bool,bool,address,uint256,uint256))":"fe1b7245","executeUpdateLeverageRequest(uint256,(address,address,int256,int256)[])":"cb5c8d81","executeUpdatePositionMarginRequest(uint256,(address,address,int256,int256)[])":"311be5f4","getAllPositions(address)":"fb11e969","getSinglePosition(address,bytes32,address,bool)":"41065c62"},"rawMetadata":"{\"compiler\":{\"version\":\"0.8.25+commit.b61c2a91\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[{\"internalType\":\"bytes32[]\",\"name\":\"positionKeys\",\"type\":\"bytes32[]\"}],\"name\":\"autoReducePositions\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"orderId\",\"type\":\"uint256\"},{\"internalType\":\"bytes32\",\"name\":\"reasonCode\",\"type\":\"bytes32\"}],\"name\":\"cancelUpdateLeverageRequest\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"orderId\",\"type\":\"uint256\"},{\"internalType\":\"bytes32\",\"name\":\"reasonCode\",\"type\":\"bytes32\"}],\"name\":\"cancelUpdatePositionMarginRequest\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"components\":[{\"internalType\":\"bytes32\",\"name\":\"symbol\",\"type\":\"bytes32\"},{\"internalType\":\"bool\",\"name\":\"isLong\",\"type\":\"bool\"},{\"internalType\":\"bool\",\"name\":\"isNativeToken\",\"type\":\"bool\"},{\"internalType\":\"bool\",\"name\":\"isCrossMargin\",\"type\":\"bool\"},{\"internalType\":\"uint256\",\"name\":\"leverage\",\"type\":\"uint256\"},{\"internalType\":\"address\",\"name\":\"marginToken\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"addMarginAmount\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"executionFee\",\"type\":\"uint256\"}],\"internalType\":\"struct IPosition.UpdateLeverageParams\",\"name\":\"params\",\"type\":\"tuple\"}],\"name\":\"createUpdateLeverageRequest\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"payable\",\"type\":\"function\"},{\"inputs\":[{\"components\":[{\"internalType\":\"bytes32\",\"name\":\"positionKey\",\"type\":\"bytes32\"},{\"internalType\":\"bool\",\"name\":\"isAdd\",\"type\":\"bool\"},{\"internalType\":\"bool\",\"name\":\"isNativeToken\",\"type\":\"bool\"},{\"internalType\":\"address\",\"name\":\"marginToken\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"updateMarginAmount\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"executionFee\",\"type\":\"uint256\"}],\"internalType\":\"struct IPosition.UpdatePositionMarginParams\",\"name\":\"params\",\"type\":\"tuple\"}],\"name\":\"createUpdatePositionMarginRequest\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"payable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"requestId\",\"type\":\"uint256\"},{\"components\":[{\"internalType\":\"address\",\"name\":\"token\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"targetToken\",\"type\":\"address\"},{\"internalType\":\"int256\",\"name\":\"minPrice\",\"type\":\"int256\"},{\"internalType\":\"int256\",\"name\":\"maxPrice\",\"type\":\"int256\"}],\"internalType\":\"struct OracleProcess.OracleParam[]\",\"name\":\"oracles\",\"type\":\"tuple[]\"}],\"name\":\"executeUpdateLeverageRequest\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"requestId\",\"type\":\"uint256\"},{\"components\":[{\"internalType\":\"address\",\"name\":\"token\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"targetToken\",\"type\":\"address\"},{\"internalType\":\"int256\",\"name\":\"minPrice\",\"type\":\"int256\"},{\"internalType\":\"int256\",\"name\":\"maxPrice\",\"type\":\"int256\"}],\"internalType\":\"struct OracleProcess.OracleParam[]\",\"name\":\"oracles\",\"type\":\"tuple[]\"}],\"name\":\"executeUpdatePositionMarginRequest\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"account\",\"type\":\"address\"}],\"name\":\"getAllPositions\",\"outputs\":[{\"components\":[{\"components\":[{\"internalType\":\"bytes32\",\"name\":\"key\",\"type\":\"bytes32\"},{\"internalType\":\"bytes32\",\"name\":\"symbol\",\"type\":\"bytes32\"},{\"internalType\":\"bool\",\"name\":\"isLong\",\"type\":\"bool\"},{\"internalType\":\"bool\",\"name\":\"isCrossMargin\",\"type\":\"bool\"},{\"internalType\":\"address\",\"name\":\"account\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"marginToken\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"indexToken\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"qty\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"entryPrice\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"leverage\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"initialMargin\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"initialMarginInUsd\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"initialMarginInUsdFromBalance\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"holdPoolAmount\",\"type\":\"uint256\"},{\"components\":[{\"internalType\":\"uint256\",\"name\":\"closeFeeInUsd\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"openBorrowingFeePerToken\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"realizedBorrowingFee\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"realizedBorrowingFeeInUsd\",\"type\":\"uint256\"},{\"internalType\":\"int256\",\"name\":\"openFundingFeePerQty\",\"type\":\"int256\"},{\"internalType\":\"int256\",\"name\":\"realizedFundingFee\",\"type\":\"int256\"},{\"internalType\":\"int256\",\"name\":\"realizedFundingFeeInUsd\",\"type\":\"int256\"}],\"internalType\":\"struct Position.PositionFee\",\"name\":\"positionFee\",\"type\":\"tuple\"},{\"internalType\":\"int256\",\"name\":\"realizedPnl\",\"type\":\"int256\"},{\"internalType\":\"uint256\",\"name\":\"lastUpdateTime\",\"type\":\"uint256\"}],\"internalType\":\"struct Position.Props\",\"name\":\"position\",\"type\":\"tuple\"},{\"internalType\":\"uint256\",\"name\":\"liquidationPrice\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"currentTimestamp\",\"type\":\"uint256\"}],\"internalType\":\"struct IPosition.PositionInfo[]\",\"name\":\"\",\"type\":\"tuple[]\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"account\",\"type\":\"address\"},{\"internalType\":\"bytes32\",\"name\":\"symbol\",\"type\":\"bytes32\"},{\"internalType\":\"address\",\"name\":\"marginToken\",\"type\":\"address\"},{\"internalType\":\"bool\",\"name\":\"isCrossMargin\",\"type\":\"bool\"}],\"name\":\"getSinglePosition\",\"outputs\":[{\"components\":[{\"internalType\":\"bytes32\",\"name\":\"key\",\"type\":\"bytes32\"},{\"internalType\":\"bytes32\",\"name\":\"symbol\",\"type\":\"bytes32\"},{\"internalType\":\"bool\",\"name\":\"isLong\",\"type\":\"bool\"},{\"internalType\":\"bool\",\"name\":\"isCrossMargin\",\"type\":\"bool\"},{\"internalType\":\"address\",\"name\":\"account\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"marginToken\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"indexToken\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"qty\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"entryPrice\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"leverage\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"initialMargin\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"initialMarginInUsd\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"initialMarginInUsdFromBalance\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"holdPoolAmount\",\"type\":\"uint256\"},{\"components\":[{\"internalType\":\"uint256\",\"name\":\"closeFeeInUsd\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"openBorrowingFeePerToken\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"realizedBorrowingFee\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"realizedBorrowingFeeInUsd\",\"type\":\"uint256\"},{\"internalType\":\"int256\",\"name\":\"openFundingFeePerQty\",\"type\":\"int256\"},{\"internalType\":\"int256\",\"name\":\"realizedFundingFee\",\"type\":\"int256\"},{\"internalType\":\"int256\",\"name\":\"realizedFundingFeeInUsd\",\"type\":\"int256\"}],\"internalType\":\"struct Position.PositionFee\",\"name\":\"positionFee\",\"type\":\"tuple\"},{\"internalType\":\"int256\",\"name\":\"realizedPnl\",\"type\":\"int256\"},{\"internalType\":\"uint256\",\"name\":\"lastUpdateTime\",\"type\":\"uint256\"}],\"internalType\":\"struct Position.Props\",\"name\":\"\",\"type\":\"tuple\"}],\"stateMutability\":\"pure\",\"type\":\"function\"}],\"devdoc\":{\"kind\":\"dev\",\"methods\":{},\"version\":1},\"userdoc\":{\"kind\":\"user\",\"methods\":{},\"version\":1}},\"settings\":{\"compilationTarget\":{\"src/interfaces/IPosition.sol\":\"IPosition\"},\"evmVersion\":\"paris\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\"},\"optimizer\":{\"enabled\":true,\"runs\":200},\"remappings\":[\":@chainlink/contracts/=lib/@chainlink/contracts/\",\":@chimera/=lib/chimera/src/\",\":@eth-optimism/=lib/@chainlink/contracts/node_modules/@eth-optimism/contracts/\",\":@openzeppelin/contracts/=lib/@openzeppelin/contracts/\",\":@uniswap/=lib/@uniswap/\",\":base64-sol/=lib/base64-sol/\",\":chimera/=lib/chimera/src/\",\":ds-test/=lib/chimera/lib/forge-std/lib/ds-test/src/\",\":eth-gas-reporter/=lib/eth-gas-reporter/\",\":forge-std/=lib/forge-std/src/\",\":hardhat-deploy/=lib/hardhat-deploy/\",\":hardhat/=lib/hardhat/\"]},\"sources\":{\"lib/@chainlink/contracts/src/v0.8/interfaces/AggregatorV3Interface.sol\":{\"keccak256\":\"0x6e6e4b0835904509406b070ee173b5bc8f677c19421b76be38aea3b1b3d30846\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://b3beaa37ee61e4ab615e250fbf01601ae481de843fd0ef55e6b44fd9d5fff8a7\",\"dweb:/ipfs/QmeZUVwd26LzK4Mfp8Zba5JbQNkZFfTzFu1A6FVMMZDg9c\"]},\"lib/@openzeppelin/contracts/utils/math/SafeCast.sol\":{\"keccak256\":\"0x52a8cfb0f5239d11b457dcdd1b326992ef672714ca8da71a157255bddd13f3ad\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://495145362c7ff1c9ca88c58bbbbcb412e3c2004406647412394486552ff6c278\",\"dweb:/ipfs/QmNNCeng6d5eRPDn6tkWSQhjE39XWfQEfjA63rRwHmr1iH\"]},\"lib/@openzeppelin/contracts/utils/structs/EnumerableSet.sol\":{\"keccak256\":\"0x9f4357008a8f7d8c8bf5d48902e789637538d8c016be5766610901b4bba81514\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://20bf19b2b851f58a4c24543de80ae70b3e08621f9230eb335dc75e2d4f43f5df\",\"dweb:/ipfs/QmSYuH1AhvJkPK8hNvoPqtExBcgTB42pPRHgTHkS5c5zYW\"]},\"src/interfaces/IPosition.sol\":{\"keccak256\":\"0xeea0b2af8f3d38eee9973a87d6b73629aa59b1658f4596fd6bbb07e8411092d3\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://09f317e25cf2b05cd8a0e6b42d1e145ec159f8020bac07cec76fe28df87a31d0\",\"dweb:/ipfs/QmTBStXge9NP3a7eFwLpeDvNCUm256wtC3K61j8ehEQg5w\"]},\"src/process/OracleProcess.sol\":{\"keccak256\":\"0xf0f9513ef99a1ef7f98ef8d071199adb2ce366c4df679ba494928a8be19e1953\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://ad6c00339be0a980a8812d1b3bbac9df53a18037f2782d03dbf24fb767d3f987\",\"dweb:/ipfs/Qmcuxge2EP8CxLbuBGdwXb89i8mggvZV3aGdc4VVrJLGFo\"]},\"src/storage/OracleFeed.sol\":{\"keccak256\":\"0xdd65cd8f6395bd43b262f6ee25637510bac5acb3e8b731630296115995d04429\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://09fd6d61c6d6e90f5faf0785d0596ca7bef4b6a249b416ff0203a8652fb97015\",\"dweb:/ipfs/QmTsqSjZswANed9h7mE5KSr5moq3RBED4YhddRASJEtoUE\"]},\"src/storage/OraclePrice.sol\":{\"keccak256\":\"0xea6e1f4fe876765cd5e3ea5379a2e4b47516ad5454cf9ac2c21cf8eb1d225d43\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://b2c9ca7071854b27c3a3de12904927381b6c2760d07e1a4089d40d04b9b85b07\",\"dweb:/ipfs/QmaWagUsoyCiPvr1vPbxyuqSBUFJmoqiMt7FY9TnADCEGd\"]},\"src/storage/Position.sol\":{\"keccak256\":\"0xe6ae1a43b696419d170e3554cd11c16d5258abc06481334c266abe3429434fc2\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://593ede06c552c9dd762590bab327d0f50c372bcd29b1639e0cae696f809eda16\",\"dweb:/ipfs/QmcXsqhyB4yAtKyQfGLm8uCTCSyjmhzGg3ZboGoWFf5P8y\"]},\"src/storage/UpdateLeverage.sol\":{\"keccak256\":\"0xeefab3133c8c05b592e9b346c90840f24355d01e727cc3b12f6fc46061485906\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://ea2c639dc6d1ad0a30d28ce07e399c09ebc1a44447cc758d6c11fe416b4b8f5e\",\"dweb:/ipfs/QmXB23hh7uEgvwrLczGLwsgbL6dG9wTsPEFoAvSx1YgH7p\"]},\"src/storage/UpdatePositionMargin.sol\":{\"keccak256\":\"0x990543331dc77e65b1df2ffb1093dd07cfbb4381875f7bfeb9574110c24b4617\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://04b645bf05be1af66d8c9467c62c44e7d74974205e64dd5c68cb64af3f7b320e\",\"dweb:/ipfs/QmRfZix4yohJcX36y5bDaiD9meNZ2crXAbhxnpEna7w2nw\"]},\"src/utils/AddressUtils.sol\":{\"keccak256\":\"0x6eefd1dc8a50b755240d3adab61571d3d62a64f5aaf849df99ae2512d06a7988\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://0cf1b1d5bc5f82af1bfb1a185a61ca05458aac32481c6fa92b74b0b9a01c473b\",\"dweb:/ipfs/QmTKWJubsukeThyEmEE7ob1fSYn9pR9KcmLSv5jfTc9MNv\"]},\"src/utils/Errors.sol\":{\"keccak256\":\"0xcf8f46def20484f18354206e3eab5d50c7c3c26dca95835dcd8694b1815107ec\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://2761e55ce01115a33cda118ef40b8eed807556a2080bc31cb6655cd1ba6b5ca3\",\"dweb:/ipfs/Qmdfhn58XyDuaxwUupcaduPhMCD5YkTxmSLmWjhhMKBitp\"]}},\"version\":1}","metadata":{"compiler":{"version":"0.8.25+commit.b61c2a91"},"language":"Solidity","output":{"abi":[{"inputs":[{"internalType":"bytes32[]","name":"positionKeys","type":"bytes32[]"}],"stateMutability":"nonpayable","type":"function","name":"autoReducePositions"},{"inputs":[{"internalType":"uint256","name":"orderId","type":"uint256"},{"internalType":"bytes32","name":"reasonCode","type":"bytes32"}],"stateMutability":"nonpayable","type":"function","name":"cancelUpdateLeverageRequest"},{"inputs":[{"internalType":"uint256","name":"orderId","type":"uint256"},{"internalType":"bytes32","name":"reasonCode","type":"bytes32"}],"stateMutability":"nonpayable","type":"function","name":"cancelUpdatePositionMarginRequest"},{"inputs":[{"internalType":"struct IPosition.UpdateLeverageParams","name":"params","type":"tuple","components":[{"internalType":"bytes32","name":"symbol","type":"bytes32"},{"internalType":"bool","name":"isLong","type":"bool"},{"internalType":"bool","name":"isNativeToken","type":"bool"},{"internalType":"bool","name":"isCrossMargin","type":"bool"},{"internalType":"uint256","name":"leverage","type":"uint256"},{"internalType":"address","name":"marginToken","type":"address"},{"internalType":"uint256","name":"addMarginAmount","type":"uint256"},{"internalType":"uint256","name":"executionFee","type":"uint256"}]}],"stateMutability":"payable","type":"function","name":"createUpdateLeverageRequest","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[{"internalType":"struct IPosition.UpdatePositionMarginParams","name":"params","type":"tuple","components":[{"internalType":"bytes32","name":"positionKey","type":"bytes32"},{"internalType":"bool","name":"isAdd","type":"bool"},{"internalType":"bool","name":"isNativeToken","type":"bool"},{"internalType":"address","name":"marginToken","type":"address"},{"internalType":"uint256","name":"updateMarginAmount","type":"uint256"},{"internalType":"uint256","name":"executionFee","type":"uint256"}]}],"stateMutability":"payable","type":"function","name":"createUpdatePositionMarginRequest","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[{"internalType":"uint256","name":"requestId","type":"uint256"},{"internalType":"struct OracleProcess.OracleParam[]","name":"oracles","type":"tuple[]","components":[{"internalType":"address","name":"token","type":"address"},{"internalType":"address","name":"targetToken","type":"address"},{"internalType":"int256","name":"minPrice","type":"int256"},{"internalType":"int256","name":"maxPrice","type":"int256"}]}],"stateMutability":"nonpayable","type":"function","name":"executeUpdateLeverageRequest"},{"inputs":[{"internalType":"uint256","name":"requestId","type":"uint256"},{"internalType":"struct OracleProcess.OracleParam[]","name":"oracles","type":"tuple[]","components":[{"internalType":"address","name":"token","type":"address"},{"internalType":"address","name":"targetToken","type":"address"},{"internalType":"int256","name":"minPrice","type":"int256"},{"internalType":"int256","name":"maxPrice","type":"int256"}]}],"stateMutability":"nonpayable","type":"function","name":"executeUpdatePositionMarginRequest"},{"inputs":[{"internalType":"address","name":"account","type":"address"}],"stateMutability":"view","type":"function","name":"getAllPositions","outputs":[{"internalType":"struct IPosition.PositionInfo[]","name":"","type":"tuple[]","components":[{"internalType":"struct Position.Props","name":"position","type":"tuple","components":[{"internalType":"bytes32","name":"key","type":"bytes32"},{"internalType":"bytes32","name":"symbol","type":"bytes32"},{"internalType":"bool","name":"isLong","type":"bool"},{"internalType":"bool","name":"isCrossMargin","type":"bool"},{"internalType":"address","name":"account","type":"address"},{"internalType":"address","name":"marginToken","type":"address"},{"internalType":"address","name":"indexToken","type":"address"},{"internalType":"uint256","name":"qty","type":"uint256"},{"internalType":"uint256","name":"entryPrice","type":"uint256"},{"internalType":"uint256","name":"leverage","type":"uint256"},{"internalType":"uint256","name":"initialMargin","type":"uint256"},{"internalType":"uint256","name":"initialMarginInUsd","type":"uint256"},{"internalType":"uint256","name":"initialMarginInUsdFromBalance","type":"uint256"},{"internalType":"uint256","name":"holdPoolAmount","type":"uint256"},{"internalType":"struct Position.PositionFee","name":"positionFee","type":"tuple","components":[{"internalType":"uint256","name":"closeFeeInUsd","type":"uint256"},{"internalType":"uint256","name":"openBorrowingFeePerToken","type":"uint256"},{"internalType":"uint256","name":"realizedBorrowingFee","type":"uint256"},{"internalType":"uint256","name":"realizedBorrowingFeeInUsd","type":"uint256"},{"internalType":"int256","name":"openFundingFeePerQty","type":"int256"},{"internalType":"int256","name":"realizedFundingFee","type":"int256"},{"internalType":"int256","name":"realizedFundingFeeInUsd","type":"int256"}]},{"internalType":"int256","name":"realizedPnl","type":"int256"},{"internalType":"uint256","name":"lastUpdateTime","type":"uint256"}]},{"internalType":"uint256","name":"liquidationPrice","type":"uint256"},{"internalType":"uint256","name":"currentTimestamp","type":"uint256"}]}]},{"inputs":[{"internalType":"address","name":"account","type":"address"},{"internalType":"bytes32","name":"symbol","type":"bytes32"},{"internalType":"address","name":"marginToken","type":"address"},{"internalType":"bool","name":"isCrossMargin","type":"bool"}],"stateMutability":"pure","type":"function","name":"getSinglePosition","outputs":[{"internalType":"struct Position.Props","name":"","type":"tuple","components":[{"internalType":"bytes32","name":"key","type":"bytes32"},{"internalType":"bytes32","name":"symbol","type":"bytes32"},{"internalType":"bool","name":"isLong","type":"bool"},{"internalType":"bool","name":"isCrossMargin","type":"bool"},{"internalType":"address","name":"account","type":"address"},{"internalType":"address","name":"marginToken","type":"address"},{"internalType":"address","name":"indexToken","type":"address"},{"internalType":"uint256","name":"qty","type":"uint256"},{"internalType":"uint256","name":"entryPrice","type":"uint256"},{"internalType":"uint256","name":"leverage","type":"uint256"},{"internalType":"uint256","name":"initialMargin","type":"uint256"},{"internalType":"uint256","name":"initialMarginInUsd","type":"uint256"},{"internalType":"uint256","name":"initialMarginInUsdFromBalance","type":"uint256"},{"internalType":"uint256","name":"holdPoolAmount","type":"uint256"},{"internalType":"struct Position.PositionFee","name":"positionFee","type":"tuple","components":[{"internalType":"uint256","name":"closeFeeInUsd","type":"uint256"},{"internalType":"uint256","name":"openBorrowingFeePerToken","type":"uint256"},{"internalType":"uint256","name":"realizedBorrowingFee","type":"uint256"},{"internalType":"uint256","name":"realizedBorrowingFeeInUsd","type":"uint256"},{"internalType":"int256","name":"openFundingFeePerQty","type":"int256"},{"internalType":"int256","name":"realizedFundingFee","type":"int256"},{"internalType":"int256","name":"realizedFundingFeeInUsd","type":"int256"}]},{"internalType":"int256","name":"realizedPnl","type":"int256"},{"internalType":"uint256","name":"lastUpdateTime","type":"uint256"}]}]}],"devdoc":{"kind":"dev","methods":{},"version":1},"userdoc":{"kind":"user","methods":{},"version":1}},"settings":{"remappings":["@chainlink/contracts/=lib/@chainlink/contracts/","@chimera/=lib/chimera/src/","@eth-optimism/=lib/@chainlink/contracts/node_modules/@eth-optimism/contracts/","@openzeppelin/contracts/=lib/@openzeppelin/contracts/","@uniswap/=lib/@uniswap/","base64-sol/=lib/base64-sol/","chimera/=lib/chimera/src/","ds-test/=lib/chimera/lib/forge-std/lib/ds-test/src/","eth-gas-reporter/=lib/eth-gas-reporter/","forge-std/=lib/forge-std/src/","hardhat-deploy/=lib/hardhat-deploy/","hardhat/=lib/hardhat/"],"optimizer":{"enabled":true,"runs":200},"metadata":{"bytecodeHash":"ipfs"},"compilationTarget":{"src/interfaces/IPosition.sol":"IPosition"},"evmVersion":"paris","libraries":{}},"sources":{"lib/@chainlink/contracts/src/v0.8/interfaces/AggregatorV3Interface.sol":{"keccak256":"0x6e6e4b0835904509406b070ee173b5bc8f677c19421b76be38aea3b1b3d30846","urls":["bzz-raw://b3beaa37ee61e4ab615e250fbf01601ae481de843fd0ef55e6b44fd9d5fff8a7","dweb:/ipfs/QmeZUVwd26LzK4Mfp8Zba5JbQNkZFfTzFu1A6FVMMZDg9c"],"license":"MIT"},"lib/@openzeppelin/contracts/utils/math/SafeCast.sol":{"keccak256":"0x52a8cfb0f5239d11b457dcdd1b326992ef672714ca8da71a157255bddd13f3ad","urls":["bzz-raw://495145362c7ff1c9ca88c58bbbbcb412e3c2004406647412394486552ff6c278","dweb:/ipfs/QmNNCeng6d5eRPDn6tkWSQhjE39XWfQEfjA63rRwHmr1iH"],"license":"MIT"},"lib/@openzeppelin/contracts/utils/structs/EnumerableSet.sol":{"keccak256":"0x9f4357008a8f7d8c8bf5d48902e789637538d8c016be5766610901b4bba81514","urls":["bzz-raw://20bf19b2b851f58a4c24543de80ae70b3e08621f9230eb335dc75e2d4f43f5df","dweb:/ipfs/QmSYuH1AhvJkPK8hNvoPqtExBcgTB42pPRHgTHkS5c5zYW"],"license":"MIT"},"src/interfaces/IPosition.sol":{"keccak256":"0xeea0b2af8f3d38eee9973a87d6b73629aa59b1658f4596fd6bbb07e8411092d3","urls":["bzz-raw://09f317e25cf2b05cd8a0e6b42d1e145ec159f8020bac07cec76fe28df87a31d0","dweb:/ipfs/QmTBStXge9NP3a7eFwLpeDvNCUm256wtC3K61j8ehEQg5w"],"license":"MIT"},"src/process/OracleProcess.sol":{"keccak256":"0xf0f9513ef99a1ef7f98ef8d071199adb2ce366c4df679ba494928a8be19e1953","urls":["bzz-raw://ad6c00339be0a980a8812d1b3bbac9df53a18037f2782d03dbf24fb767d3f987","dweb:/ipfs/Qmcuxge2EP8CxLbuBGdwXb89i8mggvZV3aGdc4VVrJLGFo"],"license":"MIT"},"src/storage/OracleFeed.sol":{"keccak256":"0xdd65cd8f6395bd43b262f6ee25637510bac5acb3e8b731630296115995d04429","urls":["bzz-raw://09fd6d61c6d6e90f5faf0785d0596ca7bef4b6a249b416ff0203a8652fb97015","dweb:/ipfs/QmTsqSjZswANed9h7mE5KSr5moq3RBED4YhddRASJEtoUE"],"license":"MIT"},"src/storage/OraclePrice.sol":{"keccak256":"0xea6e1f4fe876765cd5e3ea5379a2e4b47516ad5454cf9ac2c21cf8eb1d225d43","urls":["bzz-raw://b2c9ca7071854b27c3a3de12904927381b6c2760d07e1a4089d40d04b9b85b07","dweb:/ipfs/QmaWagUsoyCiPvr1vPbxyuqSBUFJmoqiMt7FY9TnADCEGd"],"license":"MIT"},"src/storage/Position.sol":{"keccak256":"0xe6ae1a43b696419d170e3554cd11c16d5258abc06481334c266abe3429434fc2","urls":["bzz-raw://593ede06c552c9dd762590bab327d0f50c372bcd29b1639e0cae696f809eda16","dweb:/ipfs/QmcXsqhyB4yAtKyQfGLm8uCTCSyjmhzGg3ZboGoWFf5P8y"],"license":"MIT"},"src/storage/UpdateLeverage.sol":{"keccak256":"0xeefab3133c8c05b592e9b346c90840f24355d01e727cc3b12f6fc46061485906","urls":["bzz-raw://ea2c639dc6d1ad0a30d28ce07e399c09ebc1a44447cc758d6c11fe416b4b8f5e","dweb:/ipfs/QmXB23hh7uEgvwrLczGLwsgbL6dG9wTsPEFoAvSx1YgH7p"],"license":"MIT"},"src/storage/UpdatePositionMargin.sol":{"keccak256":"0x990543331dc77e65b1df2ffb1093dd07cfbb4381875f7bfeb9574110c24b4617","urls":["bzz-raw://04b645bf05be1af66d8c9467c62c44e7d74974205e64dd5c68cb64af3f7b320e","dweb:/ipfs/QmRfZix4yohJcX36y5bDaiD9meNZ2crXAbhxnpEna7w2nw"],"license":"MIT"},"src/utils/AddressUtils.sol":{"keccak256":"0x6eefd1dc8a50b755240d3adab61571d3d62a64f5aaf849df99ae2512d06a7988","urls":["bzz-raw://0cf1b1d5bc5f82af1bfb1a185a61ca05458aac32481c6fa92b74b0b9a01c473b","dweb:/ipfs/QmTKWJubsukeThyEmEE7ob1fSYn9pR9KcmLSv5jfTc9MNv"],"license":"MIT"},"src/utils/Errors.sol":{"keccak256":"0xcf8f46def20484f18354206e3eab5d50c7c3c26dca95835dcd8694b1815107ec","urls":["bzz-raw://2761e55ce01115a33cda118ef40b8eed807556a2080bc31cb6655cd1ba6b5ca3","dweb:/ipfs/Qmdfhn58XyDuaxwUupcaduPhMCD5YkTxmSLmWjhhMKBitp"],"license":"MIT"}},"version":1},"id":88}